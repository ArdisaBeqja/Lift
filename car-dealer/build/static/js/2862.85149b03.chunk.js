"use strict";(self.webpackChunkcar_dealer=self.webpackChunkcar_dealer||[]).push([[2862],{38396:(e,l,a)=>{a.d(l,{Ay:()=>d,QC:()=>s,XA:()=>r,XZ:()=>t,_I:()=>n,tr:()=>o});const s=[{value:"3-Series",label:"3-Series"},{value:"Carrera",label:"Carrera"},{value:"GT-R",label:"GT-R"},{value:"Cayenne",label:"Cayenne"},{value:"Mazda6",label:"Mazda6"},{value:"Macan",label:"Macan"}],n=[{value:"2016",label:"2016"},{value:"2017",label:"2017"},{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],t=[{value:"2dr Car",label:"2dr Car"},{value:"4dr Car",label:"4dr Car"},{value:"Convertible",label:"Convertible"},{value:"Sedan",label:"Sedan"},{value:"Sports Utility",label:"Sports Utility"}],o=[{value:"Condition",label:"Condition"},{value:"All Conditions",label:"All Conditions"},{value:"Condition",label:"Condition"},{value:"Brand New",label:"Brand New"},{value:"Slightly Used",label:"Slightly Used"},{value:"Used",label:"Used"}],r=[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],d=[{value:"BMW",label:"BMW"},{value:"Honda",label:"Honda"},{value:"Hyundai",label:"Hyundai"},{value:"Nissan",label:"Nissan"},{value:"Mercedes Benz",label:"Mercedes Benz"}]},68061:(e,l,a)=>{a.r(l),a.d(l,{default:()=>m});var s=a(27565),n=a(11030),t=a(20477),o=a(31012),r=a(25398),d=a(95042),i=(a(83951),a(38396),a(27929));const c=function(){const[e,l]=(0,s.useState)(!1);return(0,i.jsx)(i.Fragment,{})};a(36849);const u=e=>{let{onClose:l,onLoginSuccess:a}=e;const[n,t]=(0,s.useState)(""),[o,r]=(0,s.useState)(""),[d,c]=(0,s.useState)("");return(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("button",{className:"close-button",onClick:l,children:"\xd7"}),(0,i.jsx)("h2",{children:"Login"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("https://lift-4s9g.onrender.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}),s=await e.json();e.ok?(a(s.user),l()):c(s.message||"Invalid credentials")}catch(s){console.error(s),c("Server error")}},children:[d&&(0,i.jsx)("p",{style:{color:"red"},children:d}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Email:"}),(0,i.jsx)("input",{type:"text",value:n,onChange:e=>t(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Password:"}),(0,i.jsx)("input",{type:"password",value:o,onChange:e=>r(e.target.value),required:!0})]}),(0,i.jsx)("button",{type:"submit",className:"button flat",children:"Login"})]})]})})},m=e=>{const[l]=(0,d.A)(),[a,m]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),[v,x]=(0,s.useState)(null),[j,g]=(0,s.useState)(!1),N=(0,n.Zp)();(0,s.useEffect)((()=>{const e=localStorage.getItem("adminUser");e&&b(JSON.parse(e))}),[]),(0,s.useEffect)((()=>{const e=localStorage.getItem("adminUser");e&&b(JSON.parse(e));const l=localStorage.getItem("servUser");l&&x(JSON.parse(l))}),[]);const S=()=>m(!a),f=()=>{b(null),x(null),localStorage.removeItem("adminUser"),localStorage.removeItem("servUser"),N("/")};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("header",{className:"site-header header-default ".concat(l?"header-sticky":""," ").concat(e.className||""),children:(0,i.jsx)("div",{className:"header-wrapper",children:(0,i.jsx)("div",{className:"".concat(e.containerSize||"container-fluid"),children:(0,i.jsxs)("div",{className:"header-inner",children:[(0,i.jsx)("div",{className:"site-logo",children:(0,i.jsx)(t.k2,{className:"logo-link",to:"/",children:(0,i.jsx)("h1",{style:{margin:0,fontSize:"28px",fontWeight:"700",color:"#fff",fontFamily:"sans-serif"}})})}),(0,i.jsxs)("div",{className:"menu-links",children:[(0,i.jsx)("div",{className:"main-menu d-none d-lg-block",children:(0,i.jsx)(o.A,{})}),(0,i.jsxs)("div",{className:"header-action",children:[(0,i.jsx)("div",{className:"header-action-info",children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(c,{})},"1")})}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)(t.k2,{className:"button flat",to:"/add-car",style:{textDecoration:"none"},children:"Shto Ashensor\xeb"})}),(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)(t.k2,{className:"button flat",to:"/service",style:{textDecoration:"none"},children:"Paneli i Menaxhimit"})}),(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)("button",{className:"button flat",onClick:f,children:"Logout"})})]}),v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)(t.k2,{className:"button flat",to:"/car-grid",style:{textDecoration:"none"},children:"Service Dashboard"})}),(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)("button",{className:"button flat",onClick:f,children:"Logout"})})]}),!h&&!v&&(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)("button",{className:"button flat",onClick:S,children:"Login"})}),(0,i.jsx)("div",{className:"mobile-menu-btn d-lg-none",children:(0,i.jsx)(r.A,{position:"end",onLoginClick:S,adminUser:h,servUser:v,onLogout:f})})]})]})]})})})}),a&&(0,i.jsx)(u,{onClose:S,onLoginSuccess:e=>{"admin"===e.role?(b(e),localStorage.setItem("adminUser",JSON.stringify(e)),g(!0)):"serv"===e.role?(console.log("rolee",e.role),x(e),localStorage.setItem("servUser",JSON.stringify(e)),g(!0)):alert("Access denied. Only admin can add cars.")}}),j&&(0,i.jsx)("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",children:"Welcome"}),(0,i.jsx)("button",{type:"button",className:"btn-close btn btn-danger",onClick:()=>g(!1),"aria-label":"Close"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsx)("p",{children:"Loged Successfully!"})})]})})}),(0,i.jsx)(n.sv,{})]})}},83951:()=>{}}]);
//# sourceMappingURL=2862.85149b03.chunk.js.map